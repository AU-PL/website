% generated by Ott 0.31 from: Iffy.ott
\newcommand{\ottdrule}[4][]{{\displaystyle\frac{\begin{array}{l}#2\end{array}}{#3}\quad\ottdrulename{#4}}}
\newcommand{\ottusedrule}[1]{\[#1\]}
\newcommand{\ottpremise}[1]{ #1 \\}
\newenvironment{ottdefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]}{}
\newenvironment{ottfundefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]\begin{displaymath}\begin{array}{l}}{\end{array}\end{displaymath}}
\newcommand{\ottfunclause}[2]{ #1 \equiv #2 \\}
\newcommand{\ottnt}[1]{\mathit{#1}}
\newcommand{\ottmv}[1]{\mathit{#1}}
\newcommand{\ottkw}[1]{\mathbf{#1}}
\newcommand{\ottsym}[1]{#1}
\newcommand{\ottcom}[1]{\text{#1}}
\newcommand{\ottdrulename}[1]{\textsc{#1}}
\newcommand{\ottcomplu}[5]{\overline{#1}^{\,#2\in #3 #4 #5}}
\newcommand{\ottcompu}[3]{\overline{#1}^{\,#2<#3}}
\newcommand{\ottcomp}[2]{\overline{#1}^{\,#2}}
\newcommand{\ottgrammartabular}[1]{\begin{supertabular}{llcllllll}#1\end{supertabular}}
\newcommand{\ottmetavartabular}[1]{\begin{supertabular}{ll}#1\end{supertabular}}
\newcommand{\ottrulehead}[3]{$#1$ & & $#2$ & & & \multicolumn{2}{l}{#3}}
\newcommand{\ottprodline}[6]{& & $#1$ & $#2$ & $#3 #4$ & $#5$ & $#6$}
\newcommand{\ottfirstprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottlongprodline}[2]{& & $#1$ & \multicolumn{4}{l}{$#2$}}
\newcommand{\ottfirstlongprodline}[2]{\ottlongprodline{#1}{#2}}
\newcommand{\ottbindspecprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottprodnewline}{\\}
\newcommand{\ottinterrule}{\\[5.0mm]}
\newcommand{\ottafterlastrule}{\\}
\newcommand{\ottmetavars}{
\ottmetavartabular{
 $ \ottmv{term\_var} ,\, \ottmv{x} ,\, \ottmv{y} ,\, \ottmv{z} ,\, \ottmv{f} ,\, \ottmv{u} ,\, \ottmv{v} ,\, \ottmv{s} ,\, \ottmv{p} ,\, \ottmv{w} ,\, \ottmv{r} ,\, \mathsf{not} ,\, \ottmv{NAME} ,\, \mathsf{NEWLINE} $ &  \\
}}

\newcommand{\ottprogram}{
\ottrulehead{\ottnt{program}  ,\ \ottnt{P}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottmv{x}  \ottsym{:=}  \ottnt{b}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{P_{{\mathrm{1}}}} \, \mathsf{NEWLINE} \, \ottnt{P_{{\mathrm{2}}}}}{}{}{}{}}

\newcommand{\ottbooleans}{
\ottrulehead{\ottnt{booleans}  ,\ \ottnt{b}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottmv{x}}{}{}{}{}\ottprodnewline
\ottprodline{|}{ 0 }{}{}{}{}\ottprodnewline
\ottprodline{|}{ 1 }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \ottnt{b_{{\mathrm{1}}}}  \land  \ottnt{b_{{\mathrm{2}}}} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \ottnt{b_{{\mathrm{1}}}}  \lor  \ottnt{b_{{\mathrm{2}}}} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathsf{if}\, \ottnt{b} \,\mathsf{then}\, \ottnt{b_{{\mathrm{1}}}} \,\mathsf{else}\, \ottnt{b_{{\mathrm{2}}}} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathsf{fun}\, \ottmv{x}  \Rightarrow  \ottnt{b} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathsf{let}\, \ottmv{x}  =  \ottnt{b_{{\mathrm{1}}}} \,\mathsf{in}\, \ottnt{b_{{\mathrm{2}}}} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathsf{app}\, \ottnt{b_{{\mathrm{1}}}} \, \ottnt{b_{{\mathrm{2}}}} }{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{b}  \ottsym{)}}{}{}{}{}}

\newcommand{\ottgrammar}{\ottgrammartabular{
\ottprogram\ottinterrule
\ottbooleans\ottafterlastrule
}}

% defnss
% defns Opsem
%% defn red
\newcommand{\ottdruleBetaName}[0]{\ottdrulename{Beta}}
\newcommand{\ottdruleBeta}[1]{\ottdrule[#1]{%
}{
  \mathsf{app}\, \ottsym{(}   \mathsf{fun}\, \ottmv{x}  \Rightarrow  \ottnt{b}   \ottsym{)} \, \ottnt{b'}   \rightsquigarrow  \ottsym{[}  \ottnt{b'}  \ottsym{/}  \ottmv{x}  \ottsym{]}  \ottnt{b} }{%
{\ottdrulename{Beta}}{}%
}}


\newcommand{\ottdruleFunName}[0]{\ottdrulename{Fun}}
\newcommand{\ottdruleFun}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{b}  \rightsquigarrow  \ottnt{b'} }%
}{
 \ottsym{(}   \mathsf{fun}\, \ottmv{x}  \Rightarrow  \ottnt{b}   \ottsym{)}  \rightsquigarrow  \ottsym{(}   \mathsf{fun}\, \ottmv{x}  \Rightarrow  \ottnt{b'}   \ottsym{)} }{%
{\ottdrulename{Fun}}{}%
}}


\newcommand{\ottdruleAppOneName}[0]{\ottdrulename{App1}}
\newcommand{\ottdruleAppOne}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{b_{{\mathrm{1}}}}  \rightsquigarrow  \ottnt{b'_{{\mathrm{1}}}} }%
}{
  \mathsf{app}\, \ottnt{b_{{\mathrm{1}}}} \, \ottnt{b_{{\mathrm{2}}}}   \rightsquigarrow   \mathsf{app}\, \ottnt{b'_{{\mathrm{1}}}} \, \ottnt{b_{{\mathrm{2}}}}  }{%
{\ottdrulename{App1}}{}%
}}


\newcommand{\ottdruleAppTwoName}[0]{\ottdrulename{App2}}
\newcommand{\ottdruleAppTwo}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{b_{{\mathrm{2}}}}  \rightsquigarrow  \ottnt{b'_{{\mathrm{2}}}} }%
}{
  \mathsf{app}\, \ottnt{b_{{\mathrm{1}}}} \, \ottnt{b_{{\mathrm{2}}}}   \rightsquigarrow   \mathsf{app}\, \ottnt{b_{{\mathrm{1}}}} \, \ottnt{b'_{{\mathrm{2}}}}  }{%
{\ottdrulename{App2}}{}%
}}


\newcommand{\ottdruleAndTrueName}[0]{\ottdrulename{AndTrue}}
\newcommand{\ottdruleAndTrue}[1]{\ottdrule[#1]{%
}{
 \ottsym{(}    1   \land   1    \ottsym{)}  \rightsquigarrow   1  }{%
{\ottdrulename{AndTrue}}{}%
}}


\newcommand{\ottdruleAndFalseOneName}[0]{\ottdrulename{AndFalse1}}
\newcommand{\ottdruleAndFalseOne}[1]{\ottdrule[#1]{%
}{
 \ottsym{(}    0   \land   1    \ottsym{)}  \rightsquigarrow   0  }{%
{\ottdrulename{AndFalse1}}{}%
}}


\newcommand{\ottdruleAndFalseTwoName}[0]{\ottdrulename{AndFalse2}}
\newcommand{\ottdruleAndFalseTwo}[1]{\ottdrule[#1]{%
}{
 \ottsym{(}    1   \land   0    \ottsym{)}  \rightsquigarrow   0  }{%
{\ottdrulename{AndFalse2}}{}%
}}


\newcommand{\ottdruleAndFalseName}[0]{\ottdrulename{AndFalse}}
\newcommand{\ottdruleAndFalse}[1]{\ottdrule[#1]{%
}{
 \ottsym{(}    0   \land   0    \ottsym{)}  \rightsquigarrow   0  }{%
{\ottdrulename{AndFalse}}{}%
}}


\newcommand{\ottdruleAndOneName}[0]{\ottdrulename{And1}}
\newcommand{\ottdruleAndOne}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{b_{{\mathrm{1}}}}  \rightsquigarrow  \ottnt{b'_{{\mathrm{1}}}} }%
}{
 \ottsym{(}   \ottnt{b_{{\mathrm{1}}}}  \land  \ottnt{b_{{\mathrm{2}}}}   \ottsym{)}  \rightsquigarrow  \ottsym{(}   \ottnt{b'_{{\mathrm{1}}}}  \land  \ottnt{b_{{\mathrm{2}}}}   \ottsym{)} }{%
{\ottdrulename{And1}}{}%
}}


\newcommand{\ottdruleAndTwoName}[0]{\ottdrulename{And2}}
\newcommand{\ottdruleAndTwo}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{b_{{\mathrm{2}}}}  \rightsquigarrow  \ottnt{b'_{{\mathrm{2}}}} }%
}{
 \ottsym{(}   \ottnt{b_{{\mathrm{1}}}}  \land  \ottnt{b_{{\mathrm{2}}}}   \ottsym{)}  \rightsquigarrow  \ottsym{(}   \ottnt{b_{{\mathrm{1}}}}  \land  \ottnt{b'_{{\mathrm{2}}}}   \ottsym{)} }{%
{\ottdrulename{And2}}{}%
}}


\newcommand{\ottdruleOrTrueName}[0]{\ottdrulename{OrTrue}}
\newcommand{\ottdruleOrTrue}[1]{\ottdrule[#1]{%
}{
 \ottsym{(}    1   \lor   1    \ottsym{)}  \rightsquigarrow   1  }{%
{\ottdrulename{OrTrue}}{}%
}}


\newcommand{\ottdruleOrTrueTwoName}[0]{\ottdrulename{OrTrue2}}
\newcommand{\ottdruleOrTrueTwo}[1]{\ottdrule[#1]{%
}{
 \ottsym{(}    0   \lor   1    \ottsym{)}  \rightsquigarrow   1  }{%
{\ottdrulename{OrTrue2}}{}%
}}


\newcommand{\ottdruleOrTrueOneName}[0]{\ottdrulename{OrTrue1}}
\newcommand{\ottdruleOrTrueOne}[1]{\ottdrule[#1]{%
}{
 \ottsym{(}    1   \lor   0    \ottsym{)}  \rightsquigarrow   1  }{%
{\ottdrulename{OrTrue1}}{}%
}}


\newcommand{\ottdruleOrFalseName}[0]{\ottdrulename{OrFalse}}
\newcommand{\ottdruleOrFalse}[1]{\ottdrule[#1]{%
}{
 \ottsym{(}    0   \lor   0    \ottsym{)}  \rightsquigarrow   0  }{%
{\ottdrulename{OrFalse}}{}%
}}


\newcommand{\ottdruleOrOneName}[0]{\ottdrulename{Or1}}
\newcommand{\ottdruleOrOne}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{b_{{\mathrm{1}}}}  \rightsquigarrow  \ottnt{b'_{{\mathrm{1}}}} }%
}{
 \ottsym{(}   \ottnt{b_{{\mathrm{1}}}}  \lor  \ottnt{b_{{\mathrm{2}}}}   \ottsym{)}  \rightsquigarrow  \ottsym{(}   \ottnt{b'_{{\mathrm{1}}}}  \lor  \ottnt{b_{{\mathrm{2}}}}   \ottsym{)} }{%
{\ottdrulename{Or1}}{}%
}}


\newcommand{\ottdruleOrTwoName}[0]{\ottdrulename{Or2}}
\newcommand{\ottdruleOrTwo}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{b_{{\mathrm{2}}}}  \rightsquigarrow  \ottnt{b'_{{\mathrm{2}}}} }%
}{
 \ottsym{(}   \ottnt{b_{{\mathrm{1}}}}  \lor  \ottnt{b_{{\mathrm{2}}}}   \ottsym{)}  \rightsquigarrow  \ottsym{(}   \ottnt{b_{{\mathrm{1}}}}  \lor  \ottnt{b'_{{\mathrm{2}}}}   \ottsym{)} }{%
{\ottdrulename{Or2}}{}%
}}


\newcommand{\ottdruleIfTrueName}[0]{\ottdrulename{IfTrue}}
\newcommand{\ottdruleIfTrue}[1]{\ottdrule[#1]{%
}{
  \mathsf{if}\,  1  \,\mathsf{then}\, \ottnt{b_{{\mathrm{1}}}} \,\mathsf{else}\, \ottnt{b_{{\mathrm{2}}}}   \rightsquigarrow  \ottnt{b_{{\mathrm{1}}}} }{%
{\ottdrulename{IfTrue}}{}%
}}


\newcommand{\ottdruleIfFalseName}[0]{\ottdrulename{IfFalse}}
\newcommand{\ottdruleIfFalse}[1]{\ottdrule[#1]{%
}{
  \mathsf{if}\,  0  \,\mathsf{then}\, \ottnt{b_{{\mathrm{1}}}} \,\mathsf{else}\, \ottnt{b_{{\mathrm{2}}}}   \rightsquigarrow  \ottnt{b_{{\mathrm{2}}}} }{%
{\ottdrulename{IfFalse}}{}%
}}


\newcommand{\ottdruleIfOneName}[0]{\ottdrulename{If1}}
\newcommand{\ottdruleIfOne}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{b}  \rightsquigarrow  \ottnt{b'} }%
}{
  \mathsf{if}\, \ottnt{b} \,\mathsf{then}\, \ottnt{b_{{\mathrm{1}}}} \,\mathsf{else}\, \ottnt{b_{{\mathrm{2}}}}   \rightsquigarrow   \mathsf{if}\, \ottnt{b'} \,\mathsf{then}\, \ottnt{b_{{\mathrm{1}}}} \,\mathsf{else}\, \ottnt{b_{{\mathrm{2}}}}  }{%
{\ottdrulename{If1}}{}%
}}


\newcommand{\ottdruleIfTwoName}[0]{\ottdrulename{If2}}
\newcommand{\ottdruleIfTwo}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{b_{{\mathrm{1}}}}  \rightsquigarrow  \ottnt{b'_{{\mathrm{1}}}} }%
}{
  \mathsf{if}\, \ottnt{b} \,\mathsf{then}\, \ottnt{b_{{\mathrm{1}}}} \,\mathsf{else}\, \ottnt{b_{{\mathrm{2}}}}   \rightsquigarrow   \mathsf{if}\, \ottnt{b} \,\mathsf{then}\, \ottnt{b'_{{\mathrm{1}}}} \,\mathsf{else}\, \ottnt{b_{{\mathrm{2}}}}  }{%
{\ottdrulename{If2}}{}%
}}


\newcommand{\ottdruleIfThreeName}[0]{\ottdrulename{If3}}
\newcommand{\ottdruleIfThree}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{b_{{\mathrm{2}}}}  \rightsquigarrow  \ottnt{b'_{{\mathrm{2}}}} }%
}{
  \mathsf{if}\, \ottnt{b} \,\mathsf{then}\, \ottnt{b_{{\mathrm{1}}}} \,\mathsf{else}\, \ottnt{b_{{\mathrm{2}}}}   \rightsquigarrow   \mathsf{if}\, \ottnt{b} \,\mathsf{then}\, \ottnt{b_{{\mathrm{1}}}} \,\mathsf{else}\, \ottnt{b'_{{\mathrm{2}}}}  }{%
{\ottdrulename{If3}}{}%
}}

\newcommand{\ottdefnred}[1]{\begin{ottdefnblock}[#1]{$ \ottnt{b_{{\mathrm{1}}}}  \rightsquigarrow  \ottnt{b_{{\mathrm{2}}}} $}{}
\ottusedrule{\ottdruleBeta{}}
\ottusedrule{\ottdruleFun{}}
\ottusedrule{\ottdruleAppOne{}}
\ottusedrule{\ottdruleAppTwo{}}
\ottusedrule{\ottdruleAndTrue{}}
\ottusedrule{\ottdruleAndFalseOne{}}
\ottusedrule{\ottdruleAndFalseTwo{}}
\ottusedrule{\ottdruleAndFalse{}}
\ottusedrule{\ottdruleAndOne{}}
\ottusedrule{\ottdruleAndTwo{}}
\ottusedrule{\ottdruleOrTrue{}}
\ottusedrule{\ottdruleOrTrueTwo{}}
\ottusedrule{\ottdruleOrTrueOne{}}
\ottusedrule{\ottdruleOrFalse{}}
\ottusedrule{\ottdruleOrOne{}}
\ottusedrule{\ottdruleOrTwo{}}
\ottusedrule{\ottdruleIfTrue{}}
\ottusedrule{\ottdruleIfFalse{}}
\ottusedrule{\ottdruleIfOne{}}
\ottusedrule{\ottdruleIfTwo{}}
\ottusedrule{\ottdruleIfThree{}}
\end{ottdefnblock}}

%% defn mred
\newcommand{\ottdruleReflName}[0]{\ottdrulename{Refl}}
\newcommand{\ottdruleRefl}[1]{\ottdrule[#1]{%
}{
 \ottnt{b}  \rightsquigarrow^*  \ottnt{b} }{%
{\ottdrulename{Refl}}{}%
}}


\newcommand{\ottdruleStepName}[0]{\ottdrulename{Step}}
\newcommand{\ottdruleStep}[1]{\ottdrule[#1]{%
\ottpremise{ \ottnt{b_{{\mathrm{1}}}}  \rightsquigarrow  \ottnt{b_{{\mathrm{2}}}} }%
}{
 \ottnt{b_{{\mathrm{1}}}}  \rightsquigarrow^*  \ottnt{b_{{\mathrm{2}}}} }{%
{\ottdrulename{Step}}{}%
}}


\newcommand{\ottdruleMultName}[0]{\ottdrulename{Mult}}
\newcommand{\ottdruleMult}[1]{\ottdrule[#1]{%
\ottpremise{  \ottnt{b_{{\mathrm{1}}}}  \rightsquigarrow^*  \ottnt{b_{{\mathrm{2}}}}   \quad   \ottnt{b_{{\mathrm{2}}}}  \rightsquigarrow^*  \ottnt{b_{{\mathrm{3}}}}  }%
}{
 \ottnt{b_{{\mathrm{1}}}}  \rightsquigarrow^*  \ottnt{b_{{\mathrm{3}}}} }{%
{\ottdrulename{Mult}}{}%
}}

\newcommand{\ottdefnmred}[1]{\begin{ottdefnblock}[#1]{$ \ottnt{b_{{\mathrm{1}}}}  \rightsquigarrow^*  \ottnt{b_{{\mathrm{2}}}} $}{}
\ottusedrule{\ottdruleRefl{}}
\ottusedrule{\ottdruleStep{}}
\ottusedrule{\ottdruleMult{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsOpsem}{
\ottdefnred{}\ottdefnmred{}}

\newcommand{\ottdefnss}{
\ottdefnsOpsem
}

\newcommand{\ottall}{\ottmetavars\\[0pt]
\ottgrammar\\[5.0mm]
\ottdefnss}

